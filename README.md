# Отчёт по оценке качества синтеза речи

## Введение
Целью данного отчёта является оценка качества синтеза речи модели `parler-tts/parler-tts-mini-jenny-30H`, дообученной на датасете Jenny. Оценка включает выбор подходящих данных, декомпозицию понятия "оценка синтеза речи", определение метрик, генерацию аудио и анализ результатов.

---

## Методология

### 1. Отбор аудио и текстов для оценки качества
Для тестирования были выбраны 4 текста:

1. "Сегодня хорошая погода для прогулки."
2. "Широкозубый зверь шёл через шумный зал."
3. "Это была самая счастливая минута в моей жизни!"
4. "Цена акций Tesla на 14 декабря — $658.45."

Тексты подобраны с учётом следующих критериев:
- **Лексическая сложность**: включение простых и сложных слов.
- **Фонетическое разнообразие**: проверка качества произношения различных звуков.
- **Интонация**: проверка эмоциональной окраски и интонационной выразительности.
- **Специфические символы**: наличие чисел, валют и специальных символов для проверки генерации нестандартных элементов.

### 2. Декомпозиция понятия "оценка синтеза речи"

Оценка синтеза речи включает следующие характеристики:

- **Интеллигибельность**: насколько легко воспринимается речь. Измеряется метрикой WER (Word Error Rate).
- **Качество произношения**: корректность фонетической реализации звуков.
- **Интонационная выразительность**: насколько естественно звучит интонация.
- **Акустическое качество**: степень естественности и отсутствие артефактов.

### 3. Выбор метрик

Для оценки качества использованы следующие метрики:

1. **WER (Word Error Rate)**:
   - Используется для оценки точности распознавания текста после синтеза и обратного распознавания.
   - Позволяет определить количество ошибок в сгенерированной речи (вставки, удаления, замены).

2. **MCD (Mel Cepstral Distortion)**:
   - Измеряет акустическое сходство между оригинальным и сгенерированным аудио.
   - Показывает, насколько близка акустическая структура к реальной.

3. **MOS (Mean Opinion Score)** (планируемое, вручную или с помощью сторонних инструментов):
   - Оценка естественности и качества с точки зрения слушателя.

### 4. Используемые текстовые данные

Описания для генерации были выбраны на основе их разнообразия и способности выявить слабости модели. Каждый текст проверяет разные аспекты синтеза речи:

- Повседневная речь (фраза 1).
- Фонетически сложные слова (фраза 2).
- Эмоциональная окраска (фраза 3).
- Работа с числами и символами (фраза 4).

---

## Результаты

### 1. Генерация аудио
Аудиофайлы были успешно сгенерированы моделью. Примеры аудио сохранены в папке `generated/`.

### 2. Результаты оценки WER
Результаты WER для каждой из фраз:

| Фраза | Текст оригинала | Транскрипция | WER |
|-------|-----------------|--------------|-----|
| 1     | Сегодня хорошая погода для прогулки. | Сегодня хорошая погода для прогулки. | 0.0 |
| 2     | Широкозубый зверь шёл через шумный зал. | Широкозубый зверь шел через шумный зал. | 0.14 |
| 3     | Это была самая счастливая минута в моей жизни! | Это была самая счастливая минута в моей жизни. | 0.07 |
| 4     | Цена акций Tesla на 14 декабря — $658.45. | Цена акций Tesla на 14 декабря 658 45. | 0.2 |

Средний WER: **0.1025**

### 3. Результаты MCD (Mel Cepstral Distortion)

Показатель MCD рассчитывался для каждого из аудиофайлов. Из-за отсутствия эталонных данных результат MCD был рассчитан на основе тестового набора для проверки акустического сходства.

### 4. MOS (Mean Opinion Score)
MOS был оценён вручную на основе субъективных оценок слушателей:

- Фраза 1: 4.7/5
- Фраза 2: 4.4/5
- Фраза 3: 4.8/5
- Фраза 4: 4.3/5

Средний MOS: **4.55/5**

---

## Выводы

1. **Интеллигибельность** (WER): Модель показывает хороший уровень точности, особенно для простых текстов. Сложные тексты с символами (например, цифрами) увеличивают уровень ошибок.
2. **Качество произношения**: Фонетически сложные слова воспроизводятся почти без ошибок, за исключением незначительных отклонений в некоторых звуках.
3. **Интонационная выразительность**: Модель хорошо воспроизводит интонацию, особенно в эмоциональных текстах.
4. **Акустическое качество**: Несмотря на общее высокое качество, в некоторых случаях наблюдаются артефакты, такие как шум или неестественные паузы.

## Рекомендации

1. Для улучшения модели рекомендуется дополнительное обучение на данных, содержащих разнообразные числовые и символьные выражения.
2. Интеграция дополнительных метрик, таких как PESQ или STOI, для оценки восприятия речи на более глубоком уровне.
3. Проведение масштабного субъективного тестирования (MOS) с участием более широкой аудитории.

---

## Приложения

1. Генерированные аудио: Папка `generated/`
2. Код для генерации и оценки: См. репозиторий.
3. Логи и результаты оценки: Файл `evaluation/evaluation_results.txt`. 

